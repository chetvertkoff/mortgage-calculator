(function(t){function e(e){for(var n,o,l=e[0],c=e[1],s=e[2],d=0,h=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,s||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,l=1;l<a.length;l++){var c=a[l];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"38a0":function(t,e,a){},"5f22":function(t,e,a){"use strict";a("aef1")},6705:function(t,e,a){"use strict";a("9b59")},"9b59":function(t,e,a){},a69d:function(t,e,a){"use strict";a("38a0")},aef1:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("FormLayout",[a("InputGroup",{attrs:{eventCallback:t.eventCallback}}),a("Total",{on:{"on-submit-form":function(e){return t.eventCallback=e}}})],1)],1)],1)},i=[],o=a("d4ec"),l=a("262e"),c=a("2caf"),s=a("9ab4"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"lighten-3"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{"align-self":"start"}},[a("v-card",{staticClass:"pa-7",attrs:{outlined:"",tile:""}},[a("v-row",{attrs:{"no-gutters":""}},[t._t("default")],2)],1)],1)],1)],1)},d=[],h=n["a"].extend({name:"FormLayout"}),v=h,f=a("2877"),b=a("6544"),p=a.n(b),m=a("b0af"),y=a("62ad"),O=a("a523"),j=a("0fd9b"),g=Object(f["a"])(v,u,d,!1,null,null,null),C=g.exports;p()(g,{VCard:m["a"],VCol:y["a"],VContainer:O["a"],VRow:j["a"]});var _=a("2fe1"),x=a("1b40"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"col-5 ml-auto",attrs:{"align-self":"start"}},[a("v-card",{attrs:{elevation:"0"}},[a("TotalStatistic",{attrs:{calculator:t.calculator}}),a("v-row",[a("ModalWindow",{attrs:{dialog:t.dialog},on:{"on-modal-change":t.onModalClose},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("ChartHeader",{attrs:{chart:t.chart}})]},proxy:!0},{key:"modal-body",fn:function(){return[a("ChartTable",{attrs:{chart:t.chart}})]},proxy:!0},{key:"modal-button",fn:function(){return[a("v-btn",{staticClass:"col-12 pa-6",attrs:{depressed:"",color:"primary"},on:{click:t.submitForm}},[t._v(" График платежей ")])]},proxy:!0}])})],1)],1)],1)},S=[],k=a("bee2"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"80%",scrollable:"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){e.on,e.attrs;return[t._t("modal-button")]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"hidden"},[a("v-card-title",{staticClass:"headline lighten-2 d-flex"},[a("v-row",[t._t("modal-header"),a("v-col",{staticClass:"col-1 justify-end text-right"},[a("v-icon",{attrs:{color:"grey darken-2 ml-auto",medium:""},on:{click:function(e){return t.$emit("on-modal-change",!1)}}},[t._v(" mdi-close ")])],1)],2)],1),t._t("modal-body"),a("v-divider")],2)],1)},R=[],T=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(n["a"]);Object(s["c"])([Object(x["b"])({type:Boolean,default:!1})],T.prototype,"dialog",void 0),T=Object(s["c"])([_["b"]],T);var L=T,I=L,V=(a("5f22"),a("99d9")),E=a("169a"),D=a("ce7e"),F=a("132d"),A=Object(f["a"])(I,P,R,!1,null,null,null),M=A.exports;p()(A,{VCard:m["a"],VCardTitle:V["b"],VCol:y["a"],VDialog:E["a"],VDivider:D["a"],VIcon:F["a"],VRow:j["a"]});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"col-11"},[a("v-row",[a("v-col",{staticClass:"col-2 pl-1 pr-1"},[a("p",{staticClass:"subtitle-2 mb-0 grey--text"},[t._v("Сумма кредита")]),a("p",{staticClass:"text-h6 mb-0 font-weight-medium blue--text"},[t._v(t._s(t._f("formatNum")(t.chart.totalSum))+" ₽")])]),a("v-col",{staticClass:"col-2 pl-1 pr-1"},[a("p",{staticClass:"subtitle-2 mb-0 grey--text"},[t._v("Процентная ставка")]),a("p",{staticClass:"text-h6 mb-0 font-weight-medium"},[t._v(t._s(t.chart.totalRate)+"%")])]),a("v-col",{staticClass:"col-2 pl-1 pr-1"},[a("p",{staticClass:"subtitle-2 mb-0 grey--text"},[t._v(" Срок кредита")]),a("p",{staticClass:"text-h6 mb-0 font-weight-medium"},[t._v(t._s(t.chart.loanPeriod)+" лет")])]),a("v-col",{staticClass:"col-2 pl-1 pr-1"},[a("p",{staticClass:"subtitle-2  mb-0 grey--text"},[t._v("Переплата")]),a("p",{staticClass:"text-h6 mb-0 font-weight-medium"},[t._v(t._s(t._f("roundFormat")(t.chart.overpayment))+" ₽")])])],1)],1)},N=[],q=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(n["a"]);Object(s["c"])([Object(x["b"])({type:Object})],q.prototype,"chart",void 0),q=Object(s["c"])([_["b"]],q);var G=q,H=G,U=Object(f["a"])(H,$,N,!1,null,null,null),B=U.exports;p()(U,{VCol:y["a"],VRow:j["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"col-6 mr-auto"},[a("p",{staticClass:"transition-swing text-h6 font-weight-regular grey--text"},[t._v("Ежемесячный платеж ")]),a("p",{staticClass:"text-h4 font-weight-medium"},[t._v(t._s(t._f("roundFormat")(t.calculator.annuitet))+" ₽")])]),a("v-col",{staticClass:"col-6"},[a("p",{staticClass:"transition-swing text-h6 font-weight-regular grey--text"},[t._v("Процентная ставка")]),a("p",{staticClass:"text-h4 font-weight-medium blue--text"},[t._v(t._s(t.calculator.totalRate)+" %")])])],1),a("v-row",[a("v-col",{staticClass:"col-5 mr-auto"},[a("p",{staticClass:"transition-swing text-h6 font-weight-regular grey--text"},[t._v("Сумма кредита")]),a("p",{staticClass:"text-h5 font-weight-medium"},[t._v(t._s(t._f("formatNum")(t.calculator.totalSum))+" ₽")])]),a("v-col",{staticClass:"col-6"},[a("p",{staticClass:"transition-swing text-h6 font-weight-regular grey--text"},[t._v("Необходимый доход")]),a("p",{staticClass:"text-h5 font-weight-medium"},[t._v(t._s(t._f("formatNum")(t.calculator.shouldEarn))+" ₽")])])],1)],1)},Q=[],J=n["a"].extend({name:"TotalStatistic",props:{calculator:{type:Object}}}),W=J,z=Object(f["a"])(W,Y,Q,!1,null,null,null),K=z.exports;p()(z,{VCol:y["a"],VRow:j["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-text",{staticClass:"hidden"},[t.loading?a("div",{staticStyle:{height:"80vh"}},[a("v-skeleton-loader",{attrs:{boilerplate:!0,elevation:"2",type:"table-thead, table-tbody, table-tbody","max-height":"80vh"}})],1):a("v-simple-table",{attrs:{"fixed-header":"",height:"80vh"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",t._l(t.tableHeader,(function(e,n){return a("th",{key:n,staticClass:"text-left subtitle-2 font-weight-medium",class:{"text-right":0!==n}},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",[t._l(t.list,(function(e,n){return[e.year?[a("tr",{key:n},[a("td",{staticClass:"grey--text subtitle-2",attrs:{colspan:"5"}},[t._v(t._s(e.year))])]),a("ChartTableRow",{attrs:{item:e}})]:a("ChartTableRow",{key:n,attrs:{item:e}})]}))],2)]},proxy:!0}])})],1)},Z=[],tt=a("1da1"),et=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-h6 font-weight-regular"},[t._v(t._s(t.item.month))]),a("td",{staticClass:"text-h6 font-weight-regular text-right"},[t._v(t._s(t._f("roundFormat")(t.item.annuitet))+" ₽")]),a("td",{staticClass:"text-h6 font-weight-regular grey--text text-right"},[t._v(t._s(t._f("formatNum")(t.item.rateSum))+" ₽")]),a("td",{staticClass:"text-h6 font-weight-regular grey--text text-right"},[t._v(t._s(t._f("formatNum")(t.item.loanSum))+" ₽")]),a("td",{staticClass:"text-h6 font-weight-regular text-right"},[t._v(t._s(t._f("formatNum")(t.item.leftToPay))+" ₽")])])}),at=[],nt=n["a"].extend({name:"ChartTableRow",props:["item"]}),rt=nt,it=Object(f["a"])(rt,et,at,!1,null,null,null),ot=it.exports,lt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.list=[],t.loading=!1,t.tableHeader=["Месяц","Платеж","Проценты","Основной долг","Остаток долга"],t}return Object(k["a"])(a,[{key:"reqChart",value:function(){this.loading=!0,this.getChartList()}},{key:"mounted",value:function(){this.reqChart()}},{key:"getChartList",value:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setTimeout(Object(tt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.chart.getChartlist();case 2:e.list=t.sent,e.loading=!1;case 4:case"end":return t.stop()}}),t)}))),1e3);case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(n["a"]);Object(s["c"])([Object(x["b"])({type:Object})],lt.prototype,"chart",void 0),Object(s["c"])([Object(x["d"])("chart")],lt.prototype,"reqChart",null),lt=Object(s["c"])([Object(_["b"])({components:{ChartTableRow:ot}})],lt);var ct=lt,st=ct,ut=a("1f4f"),dt=a("3129"),ht=Object(f["a"])(st,X,Z,!1,null,null,null),vt=ht.exports;p()(ht,{VCardText:V["a"],VSimpleTable:ut["a"],VSkeletonLoader:dt["a"]});var ft=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.chart=t.calculator.chartList,t.dialog=!1,t}return Object(k["a"])(a,[{key:"submitForm",value:function(){var t=this;this.$emit("on-submit-form",(function(e){e&&(t.chart=t.calculator.chartList,t.dialog=!0)}))}},{key:"onModalClose",value:function(t){t||(this.dialog=t)}}]),a}(n["a"]);Object(s["c"])([Object(x["a"])("calculator")],ft.prototype,"calculator",void 0),ft=Object(s["c"])([Object(_["b"])({components:{ModalWindow:M,ChartHeader:B,TotalStatistic:K,ChartTable:vt}})],ft);var bt=ft,pt=bt,mt=a("83366"),yt=Object(f["a"])(pt,w,S,!1,null,null,null),Ot=yt.exports;p()(yt,{VBtn:mt["a"],VCard:m["a"],VCol:y["a"],VRow:j["a"]});var jt,gt,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"col-6",attrs:{"align-self":"start"}},[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"col-12"},[a("SelectListUI",{attrs:{data:t.loanReasonsListData,label:"Цель кредита",hasBorder:!0}})],1),a("v-spacer"),a("v-col",{staticClass:"col-12"},[a("SwitchInputUI",{attrs:{data:t.hasSalaryCardData,label:"Есть зарплатная карта"}})],1),a("v-col",{staticClass:"col-12"},[a("SliderInputUI",{attrs:{label:"Стоимость недвижимости",data:t.houseCostData,hasBorder:!0,submitValidate:t.eventCallback}})],1),a("v-col",{staticClass:"col-12"},[a("SliderInputUI",{attrs:{label:"Первоначальный взнос",data:t.initialPaymentData,hasBorder:!0}})],1),a("v-col",{staticClass:"col-12"},[a("SliderInputUI",{attrs:{label:"Срок Кредита",data:t.loanPeriodData,hasBorder:!0}})],1)],1)],1)],1)},_t=[],xt=(a("98db"),n["a"].extend({name:"BaseInput",props:{label:String,hasBorder:{type:Boolean,default:!1},data:{type:Object}}})),wt=xt,St=Object(f["a"])(wt,jt,gt,!1,null,null,null),kt=St.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{elevation:"0"}},[a("v-select",{attrs:{outlined:t.hasBorder,label:t.label,"hide-details":"","menu-props":{bottom:!0,offsetY:!0,closeOnClick:!0,closeOnContentClick:!0},items:t.data.list,"item-text":"name","item-value":function(t){return t}},scopedSlots:t._u([{key:"item",fn:function(e){e.active;var n=e.item,r=(e.attrs,e.on);return[a("v-list-item",t._g({},r),[a("v-row",[a("v-col",{staticClass:"mb-0"},[t._v(t._s(n.name))]),a("v-col",{staticClass:"text-right grey--text"},[t._v(t._s(n.rateText))])],1)],1)]}}]),model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}})],1)},Rt=[],Tt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(kt);Tt=Object(s["c"])([_["b"]],Tt);var Lt=Tt,It=Lt,Vt=a("da13"),Et=a("b974"),Dt=Object(f["a"])(It,Pt,Rt,!1,null,null,null),Ft=Dt.exports;p()(Dt,{VCard:m["a"],VCol:y["a"],VListItem:Vt["a"],VRow:j["a"],VSelect:Et["a"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{elevation:"0"}},[a("div",{staticClass:"d-flex justify-space-between"},[a("p",{staticClass:"mb-0 custom-label align-self-end"},[t._v(t._s(t.label))]),a("div",{staticClass:"d-flex"},[a("span",{staticClass:"align-self-end mr-5 custom-label blue--text font-weight-medium"},[t._v(" "+t._s(t.data.rateText))]),a("v-switch",{staticClass:"mt-0",attrs:{"hide-details":""},model:{value:t.data.selected,callback:function(e){t.$set(t.data,"selected",e)},expression:"data.selected"}})],1)])])},Mt=[],$t=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(kt);$t=Object(s["c"])([_["b"]],$t);var Nt=$t,qt=Nt,Gt=a("b73d"),Ht=Object(f["a"])(qt,At,Mt,!1,null,null,null),Ut=Ht.exports;p()(Ht,{VCard:m["a"],VSwitch:Gt["a"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pl-2 pt-2 pr-2 slider-input",class:{"validate-error":t.hasErr},attrs:{flat:!0,outlined:t.hasBorder}},[a("p",{staticClass:"mb-0 align-self-end"},[t._v(t._s(t.label))]),a("v-text-field",{ref:"field",staticClass:"pr-0 pl-0 custom-field",attrs:{pre:"",rules:t.textFieldRule,type:"number","hide-details":"",solo:"",elevation:"0","single-line":"",flat:!0},on:{"update:error":t.updateError},model:{value:t.textVal,callback:function(e){t.textVal=e},expression:"textVal"}}),a("v-slider",{staticClass:"flex-column-reverse",attrs:{step:t.step,max:t.data.max,min:t.min,"hide-details":""},on:{mousedown:t.stepOn,mouseup:t.stepOff},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}}),a("div",{staticClass:"d-flex justify-space-between"},[a("div",{staticClass:"align-self-end"},[t._v(t._s(t._f("shortNumCurrency")(t.data.min)))]),a("div",{staticClass:"align-self-end align-self-end"},[t._v(t._s(t._f("shortNumCurrency")(t.data.max)))])])],1)},Yt=[],Qt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.hasErr=!1,t.privtextVal=0,t.step=1,t.min=1,t.textFieldRule=[function(t){return!!t},function(e){return t.data.min<=+e}],t}return Object(k["a"])(a,[{key:"textVal",get:function(){return this.privtextVal},set:function(t){this.submitValidate&&this.hasErr&&(this.hasErr=!1),this.data.min>=t?this.privtextVal=t:this.data.value=t}},{key:"validateForm",value:function(){this.hasErr=!this.$refs.field.validate()}},{key:"changeVal",value:function(t){this.privtextVal=t}},{key:"updateError",value:function(t){this.submitValidate||(this.hasErr=t)}},{key:"stepOn",value:function(){this.submitValidate&&this.hasErr&&(this.hasErr=!1),this.step=this.data.step,this.min=this.data.min}},{key:"stepOff",value:function(){this.step=1,this.min=1}}]),a}(kt);Object(s["c"])([Object(x["b"])({type:Function})],Qt.prototype,"submitValidate",void 0),Object(s["c"])([Object(x["d"])("submitValidate")],Qt.prototype,"validateForm",null),Object(s["c"])([Object(x["d"])("data.value")],Qt.prototype,"changeVal",null),Qt=Object(s["c"])([_["b"]],Qt);var Jt=Qt,Wt=Jt,zt=(a("a69d"),a("ba0d")),Kt=a("8654"),Xt=Object(f["a"])(Wt,Bt,Yt,!1,null,null,null),Zt=Xt.exports;p()(Xt,{VCard:m["a"],VSlider:zt["a"],VTextField:Kt["a"]});a("a4d3"),a("e01a"),a("d3b7");var te,ee,ae,ne,re,ie,oe=a("e1c6"),le=a("74ca"),ce=a("2bf2"),se=a("a40b"),ue=a("9ca9"),de=a("2c62"),he=a("8785"),ve=a("9530"),fe=a.n(ve),be=fe()(te||(te=Object(he["a"])(["\n  schema {\n    query: Query\n  }\n  \n  type Query {\n    loanReasonsList: LoanReasonList!\n    hasSalaryCard: HasSalaryCard!\n    houseCost: HouseCost!\n    initialPayment: InitialPayment!\n    loanPeriod: LoanPeriod!\n  }\n  \n  type LoanReasonList {\n    value: LoanReason!\n    list: [LoanReason!]!\n  }\n  \n  type LoanReason {\n    name: String!\n    rate: Float!\n  }\n  \n  type HasSalaryCard {\n    rate: Float!\n  }\n  \n  type HouseCost {\n    min: Int!\n    max: Int!\n    step: Int!\n    value: Int!\n  }\n  \n  type InitialPayment {\n    min: Int!\n    max: Int!\n    step: Int!\n    value: Int!\n  }\n  \n  type LoanPeriod {\n    min: Int!\n    max: Int!\n    step: Int!\n    value: Int!\n  }\n"]))),pe={value:{name:"",rate:0},list:[{name:"Готовое жилье",rate:7.3},{name:"Новостройка",rate:.9},{name:"Господдержка 2020",rate:.1},{name:"Для семей с детьми",rate:.1},{name:"Дальневосточная ипотека",rate:1},{name:"Строительство дома",rate:.9},{name:"Загородный дом, земля",rate:8.8},{name:"Строительство дома",rate:8}]},me={rate:.5},ye={min:353e3,max:3e7,step:13e4,value:0},Oe={min:91e3,max:8e6,step:1e4,value:0},je={min:1,max:30,step:1,value:0},ge={Query:function(){return{loanReasonsList:function(){return pe},hasSalaryCard:function(){return me},houseCost:function(){return ye},initialPayment:function(){return Oe},loanPeriod:function(){return je}}}},Ce=fe()(ee||(ee=Object(he["a"])(["\n  query {\n    loanReasonsList {\n      value\n      list {\n        name\n        rate\n      }\n    }\n  }\n"]))),_e=fe()(ae||(ae=Object(he["a"])(["\n  query {\n    hasSalaryCard {\n      rate\n    }\n  }\n"]))),xe=fe()(ne||(ne=Object(he["a"])(["\n  query {\n    houseCost {\n      min\n      max\n      step\n      value\n    }\n  }\n"]))),we=fe()(re||(re=Object(he["a"])(["\n  query {\n    initialPayment {\n      min\n      max\n      step\n      value\n    }\n  }\n"]))),Se=fe()(ie||(ie=Object(he["a"])(["\n  query {\n    loanPeriod {\n      min\n      max\n      step\n      value\n    }\n  }\n"]))),ke=Symbol.for("StoreDI"),Pe=function(){function t(){Object(o["a"])(this,t)}return Object(k["a"])(t,[{key:"queries",get:function(){return{GET_LOAN_REASONS:Ce,GET_HAS_SALARY_CARD:_e,GET_HOUSE_COST:xe,GET_INITIAL_PAYMENT:we,GET_LOAN_PERIOD:Se}}},{key:"initApolloClient",value:function(){var t=Object(ue["a"])({schema:Object(se["b"])({typeDefs:be}),mocks:ge}),e=new ce["a"];return new le["a"]({cache:e,link:new de["a"]({schema:t})})}}]),t}();Pe=Object(s["c"])([Object(oe["injectable"])()],Pe);var Re=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.store=t.containerDI.get(ke),t.queries=t.store.queries,t.loanReasonsListData=t.calculator.loanReasonList,t.hasSalaryCardData=t.calculator.hasSalaryCard,t.houseCostData=t.calculator.houseCost,t.initialPaymentData=t.calculator.initialPayment,t.loanPeriodData=t.calculator.loanPeriod,t}return Object(k["a"])(a,[{key:"validateForm",value:function(t){t(this.$refs.form.validate())}}]),a}(n["a"]);Object(s["c"])([Object(x["a"])("container")],Re.prototype,"containerDI",void 0),Object(s["c"])([Object(x["a"])("calculator")],Re.prototype,"calculator",void 0),Object(s["c"])([Object(x["b"])({type:Function})],Re.prototype,"eventCallback",void 0),Object(s["c"])([Object(x["d"])("eventCallback")],Re.prototype,"validateForm",null),Re=Object(s["c"])([Object(_["b"])({components:{InputLayout:kt,SelectListUI:Ft,SwitchInputUI:Ut,SliderInputUI:Zt},apollo:{loanReasonsList:{query:function(){return this.queries.GET_LOAN_REASONS},update:function(t){var e=t.loanReasonsList;this.calculator.loanReasonList=e,this.loanReasonsListData=this.calculator.loanReasonList}},hasSalaryCard:{query:function(){return this.queries.GET_HAS_SALARY_CARD},update:function(t){var e=t.hasSalaryCard;this.calculator.hasSalaryCard=e,this.hasSalaryCardData=this.calculator.hasSalaryCard}},houseCost:{query:function(){return this.queries.GET_HOUSE_COST},update:function(t){var e=t.houseCost;this.calculator.houseCost=e,this.houseCostData=this.calculator.houseCost}},initialPayment:{query:function(){return this.queries.GET_INITIAL_PAYMENT},update:function(t){var e=t.initialPayment;this.calculator.initialPayment=e,this.initialPaymentData=this.calculator.initialPayment}},loanPeriod:{query:function(){return this.queries.GET_LOAN_PERIOD},update:function(t){var e=t.loanPeriod;this.calculator.loanPeriod=e,this.loanPeriodData=this.calculator.loanPeriod}}}})],Re);var Te=Re,Le=Te,Ie=a("4bd4"),Ve=a("2fa4"),Ee=Object(f["a"])(Le,Ct,_t,!1,null,null,null),De=Ee.exports;p()(Ee,{VCol:y["a"],VForm:Ie["a"],VRow:j["a"],VSpacer:Ve["a"]});var Fe=a("43e4"),Ae=function(){function t(){Object(o["a"])(this,t)}return Object(k["a"])(t,[{key:"validate",value:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Fe["a"])(this);case 2:if(e=t.sent,!e){t.next=5;break}return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}();Ae=Object(s["c"])([Object(oe["injectable"])()],Ae);var Me=a("6c9e"),$e=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n,r,i,l;return Object(o["a"])(this,a),l=e.call(this),l.min=null!==(n=null===t||void 0===t?void 0:t.min)&&void 0!==n?n:0,l.max=null!==(r=null===t||void 0===t?void 0:t.max)&&void 0!==r?r:0,l.step=null!==(i=null===t||void 0===t?void 0:t.step)&&void 0!==i?i:1,l.value=(l.min+l.max)/2,l}return a}(Ae);Object(s["c"])([Object(Me["a"])()],$e.prototype,"min",void 0),Object(s["c"])([Object(Me["a"])()],$e.prototype,"max",void 0),Object(s["c"])([Object(Me["a"])()],$e.prototype,"step",void 0),Object(s["c"])([Object(Me["a"])()],$e.prototype,"value",void 0);var Ne=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n,r,i,l;return Object(o["a"])(this,a),l=e.call(this),l.min=null!==(n=null===t||void 0===t?void 0:t.min)&&void 0!==n?n:0,l.max=null!==(r=null===t||void 0===t?void 0:t.max)&&void 0!==r?r:0,l.step=null!==(i=null===t||void 0===t?void 0:t.step)&&void 0!==i?i:0,l.value=(l.min+l.max)/2,l}return a}(Ae);Object(s["c"])([Object(Me["a"])()],Ne.prototype,"min",void 0),Object(s["c"])([Object(Me["a"])()],Ne.prototype,"max",void 0),Object(s["c"])([Object(Me["a"])()],Ne.prototype,"step",void 0),Object(s["c"])([Object(Me["a"])()],Ne.prototype,"value",void 0);var qe=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n,r,i,l;return Object(o["a"])(this,a),l=e.call(this),l.min=null!==(n=null===t||void 0===t?void 0:t.min)&&void 0!==n?n:0,l.max=null!==(r=null===t||void 0===t?void 0:t.max)&&void 0!==r?r:0,l.step=null!==(i=null===t||void 0===t?void 0:t.step)&&void 0!==i?i:0,l.value=(l.min+l.max)/2,l}return a}(Ae);Object(s["c"])([Object(Me["a"])()],qe.prototype,"min",void 0),Object(s["c"])([Object(Me["a"])()],qe.prototype,"max",void 0),Object(s["c"])([Object(Me["a"])()],qe.prototype,"step",void 0),Object(s["c"])([Object(Me["a"])()],qe.prototype,"value",void 0);a("fb6a"),a("d81d"),a("b0c0");var Ge=a("5878"),He=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n,r,i;return Object(o["a"])(this,a),i=e.call(this),i.name=null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:"",i.rate=null!==(r=null===t||void 0===t?void 0:t.rate)&&void 0!==r?r:0,i.rateText="от ".concat(i.rate,"%"),i}return a}(Ae);Object(s["c"])([Object(Ge["a"])()],He.prototype,"name",void 0),Object(s["c"])([Object(Me["a"])()],He.prototype,"rate",void 0);var Ue=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n,r,i,l;return Object(o["a"])(this,a),l=e.call(this),l.value=new He(null===t||void 0===t||null===(n=t.list)||void 0===n?void 0:n.slice(0,1)[0]),l.list=null!==(r=null===t||void 0===t||null===(i=t.list)||void 0===i?void 0:i.map((function(t){return new He(t)})))&&void 0!==r?r:[],l}return a}(Ae),Be=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n,r;return Object(o["a"])(this,a),r=e.call(this),r.rate=null!==(n=null===t||void 0===t?void 0:t.rate)&&void 0!==n?n:0,r.rateText="- ".concat(r.rate,"%"),r.selected=!1,r}return Object(k["a"])(a,[{key:"value",get:function(){return this.selected?this.rate:0}}]),a}(Ae);Object(s["c"])([Object(Me["a"])()],Be.prototype,"rate",void 0);var Ye=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t._loanReasonList=new Ue,t._hasSalaryCard=new Be,t._houseCost=new qe,t._initialPayment=new Ne,t._loanPeriod=new $e,t}return Object(k["a"])(a,[{key:"loanReasonList",get:function(){return this._loanReasonList},set:function(t){this._loanReasonList=new Ue(t)}},{key:"hasSalaryCard",get:function(){return this._hasSalaryCard},set:function(t){this._hasSalaryCard=new Be(t)}},{key:"houseCost",get:function(){return this._houseCost},set:function(t){this._houseCost=new qe(t)}},{key:"initialPayment",get:function(){return this._initialPayment},set:function(t){this._initialPayment=new Ne(t)}},{key:"loanPeriod",get:function(){return this._loanPeriod},set:function(t){this._loanPeriod=new $e(t)}}]),a}(Ae),Qe=(a("a630"),a("3ca3"),a("35b3"),a("a9e3"),a("0028")),Je=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t,n,r,i,l,c){var s;return Object(o["a"])(this,a),s=e.call(this),s.month="",s.year=(new Date).getFullYear(),s.annuitet=0,s.loanSum=0,s.rateSum=0,s.leftToPay=0,s.month=t,s.year=n,s.annuitet=r,s.rateSum=Math.round(i),s.loanSum=Math.round(l),s.leftToPay=Math.round(c),s}return a}(Ae);Object(s["c"])([Object(Qe["a"])()],Je.prototype,"annuitet",void 0),Object(s["c"])([Object(Qe["a"])()],Je.prototype,"loanSum",void 0),Object(s["c"])([Object(Qe["a"])()],Je.prototype,"rateSum",void 0),Object(s["c"])([Object(Qe["a"])()],Je.prototype,"leftToPay",void 0);var We=function(){function t(e,a,n,r,i){Object(o["a"])(this,t),this.leftToPay=0,this.totalSum=e,this.annuitet=i,this.loanPeriod=n,this.totalRate=a,this.overpayment=r}return Object(k["a"])(t,[{key:"loanPeriodToMonth",get:function(){return 12*this.loanPeriod}},{key:"monthRate",get:function(){return this.totalRate/1200}},{key:"getChartlist",value:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loanPeriod){t.next=2;break}return t.abrupt("return");case 2:return t.abrupt("return",this.calcChartList());case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"calcChartList",value:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.loanPeriodToMonth,a=new Date,t.abrupt("return",Array.from({length:e}).map((function(){var t=n.getChartItem(a),e=t.current,r=t.chartItem;return a=e,r})));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getChartItem",value:function(t){var e,a,n=this.calcLeftToPay(),r=n.rateSum,i=n.mainDebt,o=n.leftToPay;return 11===t.getMonth()?(e=new Date(t.getFullYear()+1,0,1),a=new Je(e.toLocaleString("ru-RU",{month:"long"}),e.getFullYear(),this.annuitet,r,i,o),{current:e,chartItem:a}):(e=new Date(t.getFullYear(),t.getMonth()+1,1),a=new Je(e.toLocaleString("ru-RU",{month:"long"}),0,this.annuitet,r,i,o),{current:e,chartItem:a})}},{key:"calcLeftToPay",value:function(){this.leftToPay||(this.leftToPay=this.totalSum);var t=this.leftToPay*this.monthRate,e=this.annuitet-t;this.leftToPay=this.leftToPay-e;var a=this.leftToPay;return{rateSum:t,mainDebt:e,leftToPay:a}}},{key:"roundTwoDecimal",value:function(t){return Math.round(100*(t+Number.EPSILON))/100}}]),t}(),ze=Symbol.for("CalculatorDI"),Ke=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(k["a"])(a,[{key:"chartList",get:function(){return new We(this.totalSum,this.totalRate,this.loanPeriod.value,this.overpayment,this.annuitet)}},{key:"overpayment",get:function(){return this.totalLoanSum-this.totalSum}},{key:"shouldEarn",get:function(){var t=this.annuitet;return Math.round(t+t/100*30)}},{key:"totalRate",get:function(){return this.calcRate()}},{key:"totalLoanSum",get:function(){return this.annuitet*this.loanPeriodToMonth}},{key:"annuitet",get:function(){return this.calcAnnuitet()}},{key:"totalSum",get:function(){return this.calcTotalSum()}},{key:"loanPeriodToMonth",get:function(){return 12*this.loanPeriod.value}},{key:"calcRate",value:function(){return this.loanReasonList.value.rate<=this.hasSalaryCard.value?this.loanReasonList.value.rate:this.loanReasonList.value.rate-this.hasSalaryCard.value}},{key:"calcTotalSum",value:function(){return this.initialPayment.value>=this.houseCost.value?this.houseCost.value:this.houseCost.value-this.initialPayment.value}},{key:"calcAnnuitet",value:function(){var t=this.totalRate/1200,e=12*this.loanPeriod.value,a=this.totalSum;return a*t/(1-Math.pow(1+t,-e))}}]),a}(Ye);Ke=Object(s["c"])([Object(oe["injectable"])()],Ke);var Xe=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.containerDI=t.container,t.calculator=t.containerDI.get(ze),t.eventCallback=function(){return{}},t}return a}(n["a"]);Object(s["c"])([Object(x["b"])({type:Object})],Xe.prototype,"container",void 0),Object(s["c"])([Object(x["c"])("container")],Xe.prototype,"containerDI",void 0),Object(s["c"])([Object(x["c"])("calculator")],Xe.prototype,"calculator",void 0),Xe=Object(s["c"])([Object(_["b"])({components:{FormLayout:C,Total:Ot,InputGroup:De}})],Xe);var Ze=Xe,ta=Ze,ea=(a("6705"),a("7496")),aa=a("f6c4"),na=Object(f["a"])(ta,r,i,!1,null,null,null),ra=na.exports;p()(na,{VApp:ea["a"],VMain:aa["a"]});var ia=a("f309");n["a"].use(ia["a"]);var oa=new ia["a"]({}),la=oa,ca=a("522d");function sa(t){return new ca["a"]({defaultClient:t.initApolloClient()})}n["a"].use(ca["a"]);a("4de4"),a("ac1f"),a("5319"),a("25f0"),a("1276");function ua(t){return t?"number"===typeof t?t:+t.replace(/ /g,""):t}function da(t){return t?t.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "):t}function ha(t){if(!t)return t;var e=t.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ").split(" ");return 1===e.length?t:2===e.length?"".concat(e[0]," тыс ₽."):"".concat(e[0]," млн ₽.")}function va(t){return da(Math.round(t))}n["a"].filter("shortNumCurrency",ha),n["a"].filter("formatNum",da),n["a"].filter("toNum",ua),n["a"].filter("roundFormat",va);var fa=new oe["Container"];fa.bind(ke).to(Pe),fa.bind(ze).to(Ke);var ba=fa.get(ke),pa=sa(ba);n["a"].config.productionTip=!1,new n["a"]({vuetify:la,apolloProvider:pa,render:function(t){return t(ra,{props:{container:fa}})}}).$mount("#app")}});
//# sourceMappingURL=app.85c764ce.js.map